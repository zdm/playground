# API v1

### API connect URLs

- API HTTP URL: `https://localhost/api/`
- API WebSockets URL: `wss://localhost/api/`

<!-- tabs:start -->

#### **WebSockets**

```javascript
import Api from "@softvisio/core/api";

const api = new Api( "wss://localhost/api/" );
```

#### **HTTP**

```javascript
import Api from "@softvisio/core/api";

const api = new Api( "https://localhost/api/" );
```

<!-- tabs:end -->

## Access control lists

### Read ACL users

Method access permission: "acl:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/get-acl-users-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/get-acl-users-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `acl_id` {Array} **Required**. Filter by the `acl_id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
        - `email` {Array} Filter by the `email` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `roles` {Array} Filter by the `roles` field value:
            - {string} Filter operator, one of the: `"in"`.
            - {string} Field value.
        - `enabled` {Array} Filter by the `enabled` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["email","desc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"email"`, `"created"`, `"enabled"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `50`. **Default:** `50`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "acl_id": {
                "type": "integer",
                "operator": "=",
                "required": true,
                "aclResolver": "acl"
            },
            "email": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "roles": {
                "type": "string",
                "operator": "in"
            },
            "created": {
                "sortable": true
            },
            "enabled": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            }
        },
        "order_by": [
            [
                "email",
                "desc"
            ]
        ],
        "limit": {
            "maxLimit": 50
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    acl_id:
      type: integer
      operator: "="
      required: true
      aclResolver: acl
    email:
      type: string
      operator: includes case insensitive
      sortable: true
    roles:
      type: string
      operator: in
    created:
      sortable: true
    enabled:
      type: boolean
      operator: "="
      sortable: true
  order_by:
    - - email
      - desc
  limit:
    maxLimit: 50
```

<!-- tabs:end -->

</details>

### Suggest ACL users

Method access permission: "acl:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/suggest-acl-users", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/suggest-acl-users"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `acl_id` {Array} **Required**. Filter by the `acl_id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
        - `email` {Array} Filter by the `email` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
    - `limit` {integer} Max rows to return. Maximum allowed value: `20`. **Default:** `20`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "acl_id": {
                "type": "integer",
                "operator": "=",
                "required": true,
                "aclResolver": "acl"
            },
            "email": {
                "type": "string",
                "operator": "includes case insensitive"
            }
        },
        "order_by": [
            [
                "email",
                "desc"
            ]
        ],
        "offset": false,
        "limit": {
            "maxLimit": 20
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    acl_id:
      type: integer
      operator: "="
      required: true
      aclResolver: acl
    email:
      type: string
      operator: includes case insensitive
  order_by:
    - - email
      - desc
  offset: false
  limit:
    maxLimit: 20
```

<!-- tabs:end -->

</details>

### Add ACL user

Method access permission: "acl:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/add-acl-user", acl_id, user_id, options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/add-acl-user"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `options?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "enabled": {
            "type": "boolean"
        },
        "roles": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "uniqueItems": true
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  enabled:
    type: boolean
  roles:
    type: array
    items:
      type: string
    uniqueItems: true
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Delete ACL user

Method access permission: "acl:delete".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/delete-acl-user", acl_id, user_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/delete-acl-user"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Set ACL user enabled

Method access permission: "acl:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/set-acl-user-enabled", acl_id, user_id, enabled );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/set-acl-user-enabled"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `enabled` {boolean}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "boolean"
}
```

#### **YAML**

```yaml
type: boolean
```

<!-- tabs:end -->

</details>

### Set ACL user role

Method access permission: "acl:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/set-acl-user-roles", acl_id, user_id, roles );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/set-acl-user-roles"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `roles` {Array}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "array",
    "items": {
        "type": "string"
    },
    "uniqueItems": true
}
```

#### **YAML**

```yaml
type: array
items:
  type: string
uniqueItems: true
```

<!-- tabs:end -->

</details>

### Add ACL user role

Method access permission: "acl:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/add-acl-user-roles", acl_id, user_id, roles );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/add-acl-user-roles"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `roles` {Array}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "array",
    "items": {
        "type": "string"
    },
    "uniqueItems": true,
    "minItems": 1
}
```

#### **YAML**

```yaml
type: array
items:
  type: string
uniqueItems: true
minItems: 1
```

<!-- tabs:end -->

</details>

### Delete ACL user role

Method access permission: "acl:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/delete-acl-user-roles", acl_id, user_id, roles );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/delete-acl-user-roles"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `roles` {Array}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "array",
    "items": {
        "type": "string"
    },
    "uniqueItems": true,
    "minItems": 1
}
```

#### **YAML**

```yaml
type: array
items:
  type: string
uniqueItems: true
minItems: 1
```

<!-- tabs:end -->

</details>

### Get ACL user roles

Method access permission: "acl:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/get-acl-user-roles", acl_id, user_id? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/get-acl-user-roles"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id?` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Get ACL user permissions

Method access permission: "acl:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/get-acl-user-permissions", acl_id, user_id? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/get-acl-user-permissions"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

- `user_id?` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Get ACL roles

Method access permission: "acl:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/acl/get-acl-roles", acl_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/acl/get-acl-roles"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "acl"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: acl
```

<!-- tabs:end -->

</details>

## Instances monitoring

### Get monitored instances metrics

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/instances/get-instances" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/instances/get-instances"
```

<!-- tabs:end -->

### Get the instance stats

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/instances/get-instance-stats", instance_id, period );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/instances/get-instance-stats"
```

<!-- tabs:end -->

- `instance_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `period`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "enum": [
        "1 hour",
        "7 days",
        "30 days"
    ]
}
```

#### **YAML**

```yaml
enum:
  - 1 hour
  - 7 days
  - 30 days
```

<!-- tabs:end -->

</details>

## Methods calls monitoring

### Get monitored methods metrics

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/methods/get-methods", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/methods/get-methods"
```

<!-- tabs:end -->

- `options` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "period": {
            "type": "integer",
            "minimum": 1,
            "maximum": 30
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  period:
    type: integer
    minimum: 1
    maximum: 30
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Get the method stats

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/methods/get-monitoring-method-stats", monitoring_method_id, period );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/methods/get-monitoring-method-stats"
```

<!-- tabs:end -->

- `monitoring_method_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `period`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "enum": [
        "1 hour",
        "7 days",
        "30 days"
    ]
}
```

#### **YAML**

```yaml
enum:
  - 1 hour
  - 7 days
  - 30 days
```

<!-- tabs:end -->

</details>

### Read the method exceptions

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/methods/get-method-exceptions-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/methods/get-method-exceptions-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `monitoring_method_id` {Array} **Required**. Filter by the `monitoring_method_id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["date","desc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"date"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "monitoring_method_id": {
                "type": "integer",
                "operator": "=",
                "required": true
            },
            "date": {
                "sortable": true
            }
        },
        "order_by": [
            [
                "date",
                "desc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    monitoring_method_id:
      type: integer
      operator: "="
      required: true
    date:
      sortable: true
  order_by:
    - - date
      - desc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Clear the method exceptions

Method access permission: "development:delete".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/monitoring/methods/clear-method-exceptions", monitoring_method_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/monitoring/methods/clear-method-exceptions"
```

<!-- tabs:end -->

- `monitoring_method_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

## User account

### Get your account data

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/get-account" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/get-account"
```

<!-- tabs:end -->

### Set password

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/set-password", password );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/set-password"
```

<!-- tabs:end -->

- `password` {string} New password.

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Send email change token

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/send-email-change-token", email );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/send-email-change-token"
```

<!-- tabs:end -->

- `email` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string",
    "format": "email"
}
```

#### **YAML**

```yaml
type: string
format: email
```

<!-- tabs:end -->

</details>

### Set email using token

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/set-email-by-token", token, credentials );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/set-email-by-token"
```

<!-- tabs:end -->

- `token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

- `credentials`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "password"
            ]
        },
        {
            "type": "object",
            "properties": {
                "oauth_provider": {
                    "enum": [
                        "google",
                        "facebook",
                        "github"
                    ]
                },
                "oauth_code": {
                    "type": "string"
                },
                "oauth_redirect_uri": {
                    "type": "string",
                    "format": "uri"
                }
            },
            "additionalProperties": false,
            "required": [
                "oauth_provider",
                "oauth_code",
                "oauth_redirect_uri"
            ]
        }
    ]
}
```

#### **YAML**

```yaml
anyOf:
  - type: object
    properties:
      password:
        type: string
    additionalProperties: false
    required:
      - password
  - type: object
    properties:
      oauth_provider:
        enum:
          - google
          - facebook
          - github
      oauth_code:
        type: string
      oauth_redirect_uri:
        type: string
        format: uri
    additionalProperties: false
    required:
      - oauth_provider
      - oauth_code
      - oauth_redirect_uri
```

<!-- tabs:end -->

</details>

### Set locale

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/set-locale", locale );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/set-locale"
```

<!-- tabs:end -->

- `locale` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string",
    "format": "locale"
}
```

#### **YAML**

```yaml
type: string
format: locale
```

<!-- tabs:end -->

</details>

### Delete account

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/delete" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/delete"
```

<!-- tabs:end -->

### Get sessions list

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/get-sessions" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/get-sessions"
```

<!-- tabs:end -->

### Sign out of session

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/sign-out-session", session_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/sign-out-session"
```

<!-- tabs:end -->

- `session_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Sign out of all sessions

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/sign-out-all-sessions" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/sign-out-all-sessions"
```

<!-- tabs:end -->

## Session

### Init session

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/init-session", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/init-session"
```

<!-- tabs:end -->

- `options?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "locale": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "string",
                    "format": "locale"
                }
            ]
        },
        "locales": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "format": "locale"
                    },
                    "uniqueItems": true
                }
            ]
        },
        "defaultLocale": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "string",
                    "format": "locale"
                }
            ]
        },
        "forceLocale": {
            "type": [
                "null",
                "boolean"
            ]
        },
        "detectLocaleByClientIpAddress": {
            "type": [
                "null",
                "boolean"
            ]
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  locale:
    anyOf:
      - type: "null"
      - type: string
        format: locale
  locales:
    anyOf:
      - type: "null"
      - type: array
        items:
          type: string
          format: locale
        uniqueItems: true
  defaultLocale:
    anyOf:
      - type: "null"
      - type: string
        format: locale
  forceLocale:
    type:
      - "null"
      - boolean
  detectLocaleByClientIpAddress:
    type:
      - "null"
      - boolean
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Check session status

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/check-authentication" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/check-authentication"
```

<!-- tabs:end -->

### Sign in

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/sign-in", credentials );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/sign-in"
```

<!-- tabs:end -->

- `credentials`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "format": "email"
                },
                "password": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "email",
                "password"
            ]
        },
        {
            "type": "object",
            "properties": {
                "oauth_provider": {
                    "enum": [
                        "google",
                        "facebook",
                        "github"
                    ]
                },
                "oauth_code": {
                    "type": "string"
                },
                "oauth_redirect_uri": {
                    "type": "string",
                    "format": "uri"
                }
            },
            "additionalProperties": false,
            "required": [
                "oauth_provider",
                "oauth_code",
                "oauth_redirect_uri"
            ]
        }
    ]
}
```

#### **YAML**

```yaml
anyOf:
  - type: object
    properties:
      email:
        type: string
        format: email
      password:
        type: string
    additionalProperties: false
    required:
      - email
      - password
  - type: object
    properties:
      oauth_provider:
        enum:
          - google
          - facebook
          - github
      oauth_code:
        type: string
      oauth_redirect_uri:
        type: string
        format: uri
    additionalProperties: false
    required:
      - oauth_provider
      - oauth_code
      - oauth_redirect_uri
```

<!-- tabs:end -->

</details>

### Authorize session

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/authorize", credentials );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/authorize"
```

<!-- tabs:end -->

- `credentials`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "password"
            ]
        },
        {
            "type": "object",
            "properties": {
                "oauth_provider": {
                    "enum": [
                        "google",
                        "facebook",
                        "github"
                    ]
                },
                "oauth_code": {
                    "type": "string"
                },
                "oauth_redirect_uri": {
                    "type": "string",
                    "format": "uri"
                }
            },
            "additionalProperties": false,
            "required": [
                "oauth_provider",
                "oauth_code",
                "oauth_redirect_uri"
            ]
        }
    ]
}
```

#### **YAML**

```yaml
anyOf:
  - type: object
    properties:
      password:
        type: string
    additionalProperties: false
    required:
      - password
  - type: object
    properties:
      oauth_provider:
        enum:
          - google
          - facebook
          - github
      oauth_code:
        type: string
      oauth_redirect_uri:
        type: string
        format: uri
    additionalProperties: false
    required:
      - oauth_provider
      - oauth_code
      - oauth_redirect_uri
```

<!-- tabs:end -->

</details>

### Sign out

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/sign-out" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/sign-out"
```

<!-- tabs:end -->

### Sign up

Method access permission: "guests".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/sign-up", email, fields? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/sign-up"
```

<!-- tabs:end -->

- `email`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "anyOf": [
        {
            "type": "string",
            "format": "email"
        },
        {
            "type": "object",
            "properties": {
                "oauth_provider": {
                    "enum": [
                        "google",
                        "facebook",
                        "github"
                    ]
                },
                "oauth_code": {
                    "type": "string"
                },
                "oauth_redirect_uri": {
                    "type": "string",
                    "format": "uri"
                }
            },
            "additionalProperties": false,
            "required": [
                "oauth_provider",
                "oauth_code",
                "oauth_redirect_uri"
            ]
        }
    ]
}
```

#### **YAML**

```yaml
anyOf:
  - type: string
    format: email
  - type: object
    properties:
      oauth_provider:
        enum:
          - google
          - facebook
          - github
      oauth_code:
        type: string
      oauth_redirect_uri:
        type: string
        format: uri
    additionalProperties: false
    required:
      - oauth_provider
      - oauth_code
      - oauth_redirect_uri
```

<!-- tabs:end -->

</details>

- `fields?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "password": {
            "type": "string"
        },
        "locale": {
            "type": "string"
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  password:
    type: string
  locale:
    type: string
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Send confirmation email

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/send-confirmation-email" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/send-confirmation-email"
```

<!-- tabs:end -->

### Confirm user email using email confirmation token

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/confirm-email-by-token", token );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/confirm-email-by-token"
```

<!-- tabs:end -->

- `token` {string} Email confirmation token.

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Send password recovery email

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/send-password-recovery-email", email );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/send-password-recovery-email"
```

<!-- tabs:end -->

- `email` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string",
    "format": "email"
}
```

#### **YAML**

```yaml
type: string
format: email
```

<!-- tabs:end -->

</details>

### Set user password using password recovery token

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/set-password-by-token", token, password );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/set-password-by-token"
```

<!-- tabs:end -->

- `token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

- `password` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Register push notifications token

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/register-push-notifications-token", token );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/register-push-notifications-token"
```

<!-- tabs:end -->

- `token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Get ACL permissions

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/session/get-acl-permissions", acl_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/session/get-acl-permissions"
```

<!-- tabs:end -->

- `acl_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

## Notifications

### Get user notifications settings

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/notifications/get-user-notifications-profile", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/notifications/get-user-notifications-profile"
```

<!-- tabs:end -->

- `options?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "acl_id": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "integer"
                }
            ]
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  acl_id:
    anyOf:
      - type: "null"
      - type: integer
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Set user notification channel subscribed

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/notifications/set-user-notification-subscribed", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/notifications/set-user-notification-subscribed"
```

<!-- tabs:end -->

- `options` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "acl_id": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "integer"
                }
            ]
        },
        "notification": {
            "type": "string"
        },
        "channel": {
            "enum": [
                "internal",
                "email",
                "telegram",
                "push"
            ]
        },
        "subscribed": {
            "type": "boolean"
        }
    },
    "additionalProperties": false,
    "required": [
        "subscribed"
    ]
}
```

#### **YAML**

```yaml
type: object
properties:
  acl_id:
    anyOf:
      - type: "null"
      - type: integer
  notification:
    type: string
  channel:
    enum:
      - internal
      - email
      - telegram
      - push
  subscribed:
    type: boolean
additionalProperties: false
required:
  - subscribed
```

<!-- tabs:end -->

</details>

### Read notifications

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/notifications/get-notifications-list", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/notifications/get-notifications-list"
```

<!-- tabs:end -->

- `options` {Object}

    - `where` {Object} Set of the filters by field values:
        - `done` {Array} Filter by the `done` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "done": {
                "type": "boolean",
                "operator": "="
            }
        },
        "order_by": [
            [
                "created",
                "desc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    done:
      type: boolean
      operator: "="
  order_by:
    - - created
      - desc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Update notification

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/notifications/update", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/notifications/update"
```

<!-- tabs:end -->

- `options`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "done": {
                    "type": "boolean"
                }
            },
            "additionalProperties": false,
            "minProperties": 1
        },
        {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "done": {
                    "type": "boolean"
                }
            },
            "additionalProperties": false,
            "minProperties": 2,
            "required": [
                "id"
            ]
        }
    ]
}
```

#### **YAML**

```yaml
anyOf:
  - type: object
    properties:
      done:
        type: boolean
    additionalProperties: false
    minProperties: 1
  - type: object
    properties:
      id:
        type: integer
      done:
        type: boolean
    additionalProperties: false
    minProperties: 2
    required:
      - id
```

<!-- tabs:end -->

</details>

### Delete notifications

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/notifications/delete", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/notifications/delete"
```

<!-- tabs:end -->

- `options?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "id": {
            "type": "integer"
        },
        "done": {
            "type": "boolean"
        }
    },
    "additionalProperties": false,
    "minProperties": 1
}
```

#### **YAML**

```yaml
type: object
properties:
  id:
    type: integer
  done:
    type: boolean
additionalProperties: false
minProperties: 1
```

<!-- tabs:end -->

</details>

## Personal access tokens

### Read tokens

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/tokens/get-tokens-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/tokens/get-tokens-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `name` {Array} Filter by the `name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `enabled` {Array} Filter by the `enabled` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["name","asc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"name"`, `"created"`, `"last_activity"`, `"enabled"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "id": {
                "type": "string"
            },
            "name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "created": {
                "type": "string",
                "sortable": true
            },
            "last_activity": {
                "type": "string",
                "sortable": true
            },
            "enabled": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            }
        },
        "order_by": [
            [
                "name",
                "asc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    id:
      type: string
    name:
      type: string
      operator: includes case insensitive
      sortable: true
    created:
      type: string
      sortable: true
    last_activity:
      type: string
      sortable: true
    enabled:
      type: boolean
      operator: "="
      sortable: true
  order_by:
    - - name
      - asc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Generate new token

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/tokens/create", name );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/tokens/create"
```

<!-- tabs:end -->

- `name` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Remove token

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/tokens/delete", token_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/tokens/delete"
```

<!-- tabs:end -->

- `token_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Set token enabled

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/account/tokens/set-enabled", token_id, enabled );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/account/tokens/set-enabled"
```

<!-- tabs:end -->

- `token_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `enabled` {boolean}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "boolean"
}
```

#### **YAML**

```yaml
type: boolean
```

<!-- tabs:end -->

</details>

## Application users management

### Read users

Method access permission: "administration:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/get-users-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/get-users-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `id` {Array} Filter by the `id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
        - `search` {Array} Filter by the `search` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `roles` {Array} Filter by the `roles` field value:
            - {string} Filter operator, one of the: `"in"`.
            - {string} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["email","asc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"id"`, `"email"`, `"created"`, `"last_activity"`, `"enabled"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "id": {
                "type": "integer",
                "operator": "=",
                "sortable": true
            },
            "search": {
                "type": "string",
                "operator": "includes case insensitive"
            },
            "roles": {
                "type": "string",
                "operator": "in"
            },
            "email": {
                "sortable": true
            },
            "created": {
                "sortable": true
            },
            "last_activity": {
                "sortable": true
            },
            "enabled": {
                "sortable": true
            }
        },
        "order_by": [
            [
                "email",
                "asc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    id:
      type: integer
      operator: "="
      sortable: true
    search:
      type: string
      operator: includes case insensitive
    roles:
      type: string
      operator: in
    email:
      sortable: true
    created:
      sortable: true
    last_activity:
      sortable: true
    enabled:
      sortable: true
  order_by:
    - - email
      - asc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Create user

Method access permission: "administration:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/create-user", email, options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/create-user"
```

<!-- tabs:end -->

- `email` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string",
    "format": "email"
}
```

#### **YAML**

```yaml
type: string
format: email
```

<!-- tabs:end -->

</details>

- `options?` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "password": {
            "type": "string"
        },
        "enabled": {
            "type": "boolean"
        },
        "roles": {
            "anyOf": [
                {
                    "type": "null"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            ]
        }
    },
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  password:
    type: string
  enabled:
    type: boolean
  roles:
    anyOf:
      - type: "null"
      - type: array
        items:
          type: string
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Delete user

Method access permission: "administration:delete".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/delete", user_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/delete"
```

<!-- tabs:end -->

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Set user enabled

Method access permission: "administration:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/set-enabled", user_id, enabled );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/set-enabled"
```

<!-- tabs:end -->

- `user_id` {integer} User id or name.

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `enabled` {boolean}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "boolean"
}
```

#### **YAML**

```yaml
type: boolean
```

<!-- tabs:end -->

</details>

### Set user password

Method access permission: "administration:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/set-password", user_id, pasword? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/set-password"
```

<!-- tabs:end -->

- `user_id` {integer} User id or name.

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `pasword?` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Get user sessions list

Method access permission: "administration:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/get-sessions", user_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/get-sessions"
```

<!-- tabs:end -->

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Sign out of user session

Method access permission: "administration:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/sign-out-session", user_id, session_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/sign-out-session"
```

<!-- tabs:end -->

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `session_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

### Sign out of all user sessions

Method access permission: "administration:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/users/sign-out-all-sessions", user_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/users/sign-out-all-sessions"
```

<!-- tabs:end -->

- `user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

## Database cron

### Get database cron schedule

Method access permission: "development:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/development/cron/get-schedule" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/development/cron/get-schedule"
```

<!-- tabs:end -->

## Application telegram bots management

### Read telegram bots

Method access permission: "administration:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/administration/telegram/bots/get-bots-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/administration/telegram/bots/get-bots-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `static` {Array} Filter by the `static` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `deleted` {Array} Filter by the `deleted` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `name` {Array} Filter by the `name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["name","asc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"type"`, `"static"`, `"deleted"`, `"name"`, `"username"`, `"total_users"`, `"total_subscribed_users"`, `"total_unsubscribed_users"`, `"started"`, `"error"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "type": {
                "type": "string",
                "sortable": true
            },
            "static": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            },
            "deleted": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            },
            "name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "username": {
                "type": "string",
                "sortable": true
            },
            "total_users": {
                "type": "string",
                "sortable": true
            },
            "total_subscribed_users": {
                "type": "string",
                "sortable": true
            },
            "total_unsubscribed_users": {
                "type": "string",
                "sortable": true
            },
            "started": {
                "type": "string",
                "sortable": true
            },
            "error": {
                "type": "string",
                "sortable": true
            }
        },
        "order_by": [
            [
                "name",
                "asc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    type:
      type: string
      sortable: true
    static:
      type: boolean
      operator: "="
      sortable: true
    deleted:
      type: boolean
      operator: "="
      sortable: true
    name:
      type: string
      operator: includes case insensitive
      sortable: true
    username:
      type: string
      sortable: true
    total_users:
      type: string
      sortable: true
    total_subscribed_users:
      type: string
      sortable: true
    total_unsubscribed_users:
      type: string
      sortable: true
    started:
      type: string
      sortable: true
    error:
      type: string
      sortable: true
  order_by:
    - - name
      - asc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

## Application telegram bots management

### Read telegram bots

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/get-bots-list", options? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/get-bots-list"
```

<!-- tabs:end -->

- `options?` {Object}

    - `where` {Object} Set of the filters by field values:
        - `static` {Array} Filter by the `static` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `deleted` {Array} Filter by the `deleted` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `name` {Array} Filter by the `name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["name","asc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"type"`, `"static"`, `"deleted"`, `"name"`, `"username"`, `"total_users"`, `"total_subscribed_users"`, `"total_unsubscribed_users"`, `"started"`, `"error"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "type": {
                "type": "string",
                "sortable": true
            },
            "static": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            },
            "deleted": {
                "type": "boolean",
                "operator": "=",
                "sortable": true
            },
            "name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "username": {
                "type": "string",
                "sortable": true
            },
            "total_users": {
                "type": "string",
                "sortable": true
            },
            "total_subscribed_users": {
                "type": "string",
                "sortable": true
            },
            "total_unsubscribed_users": {
                "type": "string",
                "sortable": true
            },
            "started": {
                "type": "string",
                "sortable": true
            },
            "error": {
                "type": "string",
                "sortable": true
            }
        },
        "order_by": [
            [
                "name",
                "asc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    type:
      type: string
      sortable: true
    static:
      type: boolean
      operator: "="
      sortable: true
    deleted:
      type: boolean
      operator: "="
      sortable: true
    name:
      type: string
      operator: includes case insensitive
      sortable: true
    username:
      type: string
      sortable: true
    total_users:
      type: string
      sortable: true
    total_subscribed_users:
      type: string
      sortable: true
    total_unsubscribed_users:
      type: string
      sortable: true
    started:
      type: string
      sortable: true
    error:
      type: string
      sortable: true
  order_by:
    - - name
      - asc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Get registered telegram components

Method access permission: "telegram/bot:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/get-registered-components" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/get-registered-components"
```

<!-- tabs:end -->

### Check bot API token

Method access permission: "telegram/bot:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/check-bot-api-token", telegram_bot_api_token );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/check-bot-api-token"
```

<!-- tabs:end -->

- `telegram_bot_api_token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Create telegram bot

Method access permission: "telegram/bot:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/create-bot", telegram_bot_api_token, telegram_bot_type );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/create-bot"
```

<!-- tabs:end -->

- `telegram_bot_api_token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

- `telegram_bot_type` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Start / stop bot

Method access permission: "telegram/bot:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/set-bot-started", bot_id, started );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/set-bot-started"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `started` {boolean}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "boolean"
}
```

#### **YAML**

```yaml
type: boolean
```

<!-- tabs:end -->

</details>

### Set bot API token

Method access permission: "telegram/bot:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/set-bot-api-token", bot_id, bot_api_token );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/set-bot-api-token"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `bot_api_token` {string}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "string"
}
```

#### **YAML**

```yaml
type: string
```

<!-- tabs:end -->

</details>

### Delete bot

Method access permission: "telegram/bot:delete".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/delete-bot", bot_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/delete-bot"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

### Get bot data

Method access permission: "telegram/bot:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/get-bot", bot_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/get-bot"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

### Get bot subscribe stats

Method access permission: "telegram/bot:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/get-bot-stats", bot_id, period );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/get-bot-stats"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `period`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "enum": [
        "7 days",
        "3 months",
        "1 year"
    ]
}
```

#### **YAML**

```yaml
enum:
  - 7 days
  - 3 months
  - 1 year
```

<!-- tabs:end -->

</details>

### Update bot details

Method access permission: "telegram/bot:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/update-bot-details", bot_id, options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/update-bot-details"
```

<!-- tabs:end -->

- `bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `options` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 64,
            "transform": [
                "trim"
            ]
        },
        "short_description": {
            "type": "string",
            "maxLength": 120,
            "transform": [
                "trim"
            ]
        },
        "description": {
            "type": "string",
            "maxLength": 512,
            "transform": [
                "trim"
            ]
        }
    },
    "minProperties": 1,
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  name:
    type: string
    minLength: 1
    maxLength: 64
    transform:
      - trim
  short_description:
    type: string
    maxLength: 120
    transform:
      - trim
  description:
    type: string
    maxLength: 512
    transform:
      - trim
minProperties: 1
additionalProperties: false
```

<!-- tabs:end -->

</details>

## Telegram bot links

### Read telegram bot links

Method access permission: "telegram/bot/links:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/get-links-list", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/get-links-list"
```

<!-- tabs:end -->

- `options` {Object}

    - `where` {Object} Set of the filters by field values:
        - `telegram_bot_id` {Array} **Required**. Filter by the `telegram_bot_id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
        - `name` {Array} Filter by the `name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["last_user_created","desc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"name"`, `"created"`, `"last_user_created"`, `"total_subscribed_users"`, `"total_unsubscribed_users"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "telegram_bot_id": {
                "type": "integer",
                "required": true,
                "operator": "=",
                "aclResolver": "telegram-bot"
            },
            "name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "created": {
                "sortable": true
            },
            "last_user_created": {
                "sortable": true
            },
            "total_subscribed_users": {
                "sortable": true
            },
            "total_unsubscribed_users": {
                "sortable": true
            }
        },
        "order_by": [
            [
                "last_user_created",
                "desc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    telegram_bot_id:
      type: integer
      required: true
      operator: "="
      aclResolver: telegram-bot
    name:
      type: string
      operator: includes case insensitive
      sortable: true
    created:
      sortable: true
    last_user_created:
      sortable: true
    total_subscribed_users:
      sortable: true
    total_unsubscribed_users:
      sortable: true
  order_by:
    - - last_user_created
      - desc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Get telegram bot link data

Method access permission: "telegram/bot/links:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/get-link", telegram_bot_link_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/get-link"
```

<!-- tabs:end -->

- `telegram_bot_link_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot-link"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot-link
```

<!-- tabs:end -->

</details>

### Createe link

Method access permission: "telegram/bot/links:create".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/create-link", telegram_bot_id, options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/create-link"
```

<!-- tabs:end -->

- `telegram_bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `options` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "transform": [
                "trim"
            ]
        },
        "description": {
            "type": "string",
            "maxLength": 10000,
            "transform": [
                "trim"
            ]
        }
    },
    "additionalProperties": false,
    "required": [
        "name"
    ]
}
```

#### **YAML**

```yaml
type: object
properties:
  name:
    type: string
    minLength: 1
    maxLength: 100
    transform:
      - trim
  description:
    type: string
    maxLength: 10000
    transform:
      - trim
additionalProperties: false
required:
  - name
```

<!-- tabs:end -->

</details>

### get telegram bot link stats

Method access permission: "telegram/bot/links:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/get-link-stats", telegram_bot_id, telegram_bot_link_id, period );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/get-link-stats"
```

<!-- tabs:end -->

- `telegram_bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `telegram_bot_link_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `period`

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "enum": [
        "7 days",
        "3 months",
        "1 year"
    ]
}
```

#### **YAML**

```yaml
enum:
  - 7 days
  - 3 months
  - 1 year
```

<!-- tabs:end -->

</details>

### Update telegram bot link

Method access permission: "telegram/bot/links:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/update-link", telegram_bot_id, teleram_bot_link_id, options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/update-link"
```

<!-- tabs:end -->

- `telegram_bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `teleram_bot_link_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `options` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 100,
            "transform": [
                "trim"
            ]
        },
        "description": {
            "type": "string",
            "maxLength": 10000,
            "transform": [
                "trim"
            ]
        }
    },
    "minProperties": 1,
    "additionalProperties": false
}
```

#### **YAML**

```yaml
type: object
properties:
  name:
    type: string
    minLength: 1
    maxLength: 100
    transform:
      - trim
  description:
    type: string
    maxLength: 10000
    transform:
      - trim
minProperties: 1
additionalProperties: false
```

<!-- tabs:end -->

</details>

### Delete telegram bot link

Method access permission: "telegram/bot/links:delete".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/links/delete-link", telegram_bot_id, telegram_bot_link_id );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/links/delete-link"
```

<!-- tabs:end -->

- `telegram_bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot
```

<!-- tabs:end -->

</details>

- `telegram_bot_link_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

## Telegram bot links

### Read telegram bot links

Method access permission: "telegram/bot/users:read".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/users/get-users-list", options );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/users/get-users-list"
```

<!-- tabs:end -->

- `options` {Object}

    - `where` {Object} Set of the filters by field values:
        - `telegram_bot_id` {Array} **Required**. Filter by the `telegram_bot_id` field value:
            - {string} Filter operator, one of the: `"="`.
            - {integer} Field value.
        - `search` {Array} Filter by the `search` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `is_bot` {Array} Filter by the `is_bot` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `username` {Array} Filter by the `username` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `first_name` {Array} Filter by the `first_name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `last_name` {Array} Filter by the `last_name` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `phone` {Array} Filter by the `phone` field value:
            - {string} Filter operator, one of the: `"includes case insensitive"`.
            - {string} Field value.
        - `subscribed` {Array} Filter by the `subscribed` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
        - `enabled` {Array} Filter by the `enabled` field value:
            - {string} Filter operator, one of the: `"="`.
            - {boolean} Field value.
    - `order_by` {Array} Array of the sort conditions. **Default:** `[["username","asc"]]`. Each sort condition must be represented with the two-elements {Array} with the following structure:
        - {string} Field name to sort by, possible fields: `"username"`, `"first_name"`, `"last_name"`, `"phone"`, `"created"`, `"last_activity"`.
        - {string} Sort direction, can be `"asc"` or `"desc"`. **Default:** `"asc"`.
    - `offset` {integer} Return results, starting from the specified row. `0` - from the first row. **Default:** `0`.
    - `limit` {integer} Max rows to return. Maximum allowed value: `100`. **Default:** `100`.
    - Example (this is the abstract data structure example, not related to the current method):

        ```json
        {
            "where": {
                "field_a": [
                    ">=",
                    100
                ],
                "field_b": [
                    "!=",
                    null
                ],
                "field_c": [
                    "=",
                    "string"
                ]
            },
            "order_by": [
                [
                    "field_a",
                    "asc"
                ],
                [
                    "field_b",
                    "desc"
                ]
            ],
            "offset": 100,
            "limit": 50
        }
        ```

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "read": {
        "fields": {
            "telegram_bot_id": {
                "type": "integer",
                "required": true,
                "operator": "=",
                "aclResolver": "telegram-bot"
            },
            "search": {
                "type": "string",
                "operator": "includes case insensitive"
            },
            "is_bot": {
                "type": "boolean",
                "operator": "="
            },
            "username": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "first_name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "last_name": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "phone": {
                "type": "string",
                "operator": "includes case insensitive",
                "sortable": true
            },
            "created": {
                "type": "string",
                "sortable": true
            },
            "last_activity": {
                "type": "string",
                "sortable": true
            },
            "subscribed": {
                "type": "boolean",
                "operator": "="
            },
            "enabled": {
                "type": "boolean",
                "operator": "="
            }
        },
        "order_by": [
            [
                "username",
                "asc"
            ]
        ],
        "limit": {
            "maxLimit": 100
        }
    }
}
```

#### **YAML**

```yaml
read:
  fields:
    telegram_bot_id:
      type: integer
      required: true
      operator: "="
      aclResolver: telegram-bot
    search:
      type: string
      operator: includes case insensitive
    is_bot:
      type: boolean
      operator: "="
    username:
      type: string
      operator: includes case insensitive
      sortable: true
    first_name:
      type: string
      operator: includes case insensitive
      sortable: true
    last_name:
      type: string
      operator: includes case insensitive
      sortable: true
    phone:
      type: string
      operator: includes case insensitive
      sortable: true
    created:
      type: string
      sortable: true
    last_activity:
      type: string
      sortable: true
    subscribed:
      type: boolean
      operator: "="
    enabled:
      type: boolean
      operator: "="
  order_by:
    - - username
      - asc
  limit:
    maxLimit: 100
```

<!-- tabs:end -->

</details>

### Set user enabled

Method access permission: "telegram/bot/users:update".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/telegram/bots/users/set-user-enabled", teleram_bot_id, teleram_bot_user_id, enabled );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/telegram/bots/users/set-user-enabled"
```

<!-- tabs:end -->

- `teleram_bot_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer"
}
```

#### **YAML**

```yaml
type: integer
```

<!-- tabs:end -->

</details>

- `teleram_bot_user_id` {integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "integer",
    "aclResolver": "telegram-bot-user"
}
```

#### **YAML**

```yaml
type: integer
aclResolver: telegram-bot-user
```

<!-- tabs:end -->

</details>

- `enabled` {boolean}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "boolean"
}
```

#### **YAML**

```yaml
type: boolean
```

<!-- tabs:end -->

</details>

## Telebot API

### Bench

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/bench" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/bench"
```

<!-- tabs:end -->

### Test

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/test", delay? );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/test"
```

<!-- tabs:end -->

- `delay?` {null|integer}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": [
        "null",
        "integer"
    ]
}
```

#### **YAML**

```yaml
type:
  - "null"
  - integer
```

<!-- tabs:end -->

</details>

### Test upload

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/upload", data );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/upload"
```

<!-- tabs:end -->

- `data` {Object}

<details>
    <summary>JSON schema</summary>

<!-- tabs:start -->

#### **JSON**

```json
{
    "type": "object",
    "properties": {
        "options": {
            "type": "object"
        },
        "file": {
            "file": {
                "maxSize": "50 MB"
            }
        }
    },
    "additionalProperties": false,
    "required": [
        "file"
    ]
}
```

#### **YAML**

```yaml
type: object
properties:
  options:
    type: object
  file:
    file:
      maxSize: 50 MB
additionalProperties: false
required:
  - file
```

<!-- tabs:end -->

</details>

### Test download

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/download" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/download"
```

<!-- tabs:end -->

### Send test notification

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/send-notification" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/send-notification"
```

<!-- tabs:end -->

### Send ACL test notification

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/send-acl-notification" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/send-acl-notification"
```

<!-- tabs:end -->

### Send test push notification

Method access permission: "users".

<!-- tabs:start -->

#### **JavaScript**

```javascript
const res = await api.call( "/v1/test/send-push-notification" );
```

#### **Shell**

```sh
curl \
    -H "Authorization: Bearer <YOUR-API-TOKEN>" \
    "https://localhost/api/v1/test/send-push-notification"
```

<!-- tabs:end -->
